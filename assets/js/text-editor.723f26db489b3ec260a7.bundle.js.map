{"version":3,"sources":["../../assets/dev/js/frontend/handlers/text-editor.js","../../node_modules/core-js/modules/es6.regexp.match.js","../../node_modules/core-js/modules/es6.regexp.replace.js"],"names":["TextEditor","selectors","paragraph","classes","dropCap","dropCapLetter","getSettings","$dropCap","jQuery","class","$dropCapLetter","append","$paragraph","$element","find","isDropCapEnabled","getElementSettings","elements","remove","prepend","length","paragraphContent","html","replace","firstLetterMatch","match","firstLetter","trimmedFirstLetter","trim","text","restoredParagraphContent","slice","Array","join","args","wrapDropCap","propertyName","elementorModules","frontend","handlers","Base"],"mappings":"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,CAAC,qEAAe;AACvC,yBAAyB,mBAAO,CAAC,yFAAyB;AAC1D,iBAAiB,mBAAO,CAAC,yFAAyB;AAClD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAO,CAAC,qEAAe;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,oBAAoB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC","file":"text-editor.723f26db489b3ec260a7.bundle.js","sourcesContent":["export default class TextEditor extends elementorModules.frontend.handlers.Base {\n\tgetDefaultSettings() {\n\t\treturn {\n\t\t\tselectors: {\n\t\t\t\tparagraph: 'p:first',\n\t\t\t},\n\t\t\tclasses: {\n\t\t\t\tdropCap: 'elementor-drop-cap',\n\t\t\t\tdropCapLetter: 'elementor-drop-cap-letter',\n\t\t\t},\n\t\t};\n\t}\n\n\tgetDefaultElements() {\n\t\tconst selectors = this.getSettings( 'selectors' ),\n\t\t\tclasses = this.getSettings( 'classes' ),\n\t\t\t$dropCap = jQuery( '<span>', { class: classes.dropCap } ),\n\t\t\t$dropCapLetter = jQuery( '<span>', { class: classes.dropCapLetter } );\n\n\t\t$dropCap.append( $dropCapLetter );\n\n\t\treturn {\n\t\t\t$paragraph: this.$element.find( selectors.paragraph ),\n\t\t\t$dropCap: $dropCap,\n\t\t\t$dropCapLetter: $dropCapLetter,\n\t\t};\n\t}\n\n\twrapDropCap() {\n\t\tconst isDropCapEnabled = this.getElementSettings( 'drop_cap' );\n\n\t\tif ( ! isDropCapEnabled ) {\n\t\t\t// If there is an old drop cap inside the paragraph\n\t\t\tif ( this.dropCapLetter ) {\n\t\t\t\tthis.elements.$dropCap.remove();\n\n\t\t\t\tthis.elements.$paragraph.prepend( this.dropCapLetter );\n\n\t\t\t\tthis.dropCapLetter = '';\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst $paragraph = this.elements.$paragraph;\n\n\t\tif ( ! $paragraph.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst paragraphContent = $paragraph.html().replace( /&nbsp;/g, ' ' ),\n\t\t\tfirstLetterMatch = paragraphContent.match( /^ *([^ ] ?)/ );\n\n\t\tif ( ! firstLetterMatch ) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst firstLetter = firstLetterMatch[ 1 ],\n\t\t\ttrimmedFirstLetter = firstLetter.trim();\n\n\t\t// Don't apply drop cap when the content starting with an HTML tag\n\t\tif ( '<' === trimmedFirstLetter ) {\n\t\t\treturn;\n\t\t}\n\n\t\tthis.dropCapLetter = firstLetter;\n\n\t\tthis.elements.$dropCapLetter.text( trimmedFirstLetter );\n\n\t\tconst restoredParagraphContent = paragraphContent.slice( firstLetter.length ).replace( /^ */, ( match ) => {\n\t\t\treturn new Array( match.length + 1 ).join( '&nbsp;' );\n\t\t} );\n\n\t\t$paragraph.html( restoredParagraphContent ).prepend( this.elements.$dropCap );\n\t}\n\n\tonInit( ...args ) {\n\t\tsuper.onInit( ...args );\n\n\t\tthis.wrapDropCap();\n\t}\n\n\tonElementChange( propertyName ) {\n\t\tif ( 'drop_cap' === propertyName ) {\n\t\t\tthis.wrapDropCap();\n\t\t}\n\t}\n}\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar toInteger = require('./_to-integer');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&`']|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&`']|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nrequire('./_fix-re-wks')('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = defined(this);\n      var fn = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return fn !== undefined\n        ? fn.call(searchValue, O, replaceValue)\n        : $replace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      var res = maybeCallNative($replace, regexp, this, replaceValue);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n        results.push(result);\n        if (!global) break;\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n    // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return $replace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n"],"sourceRoot":""}